<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" lang="">
<head>
    <title th:text="${title}"></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="icon" type="image/png" href="/images/icons/MangaLibraryLogo.png">
    <link rel="stylesheet" href="/css/token-alerts.css">
    <link rel="stylesheet" href="/css/transparent-container.css">
    <link rel="stylesheet" href="/css/loader.css">
    <link rel="stylesheet" href="/css/user-settings.css">
</head>
<body class="loading">
<div th:insert="~{blocks/loader :: loader}"></div>
<header th:insert="~{blocks/header :: header}"></header>
<input type="hidden" id="backGroundImg" th:value="${backGroundImgUser}" />
<div class="container transparent-container mt-5 mb-5">
    <h1>Settings</h1>
    <form method="POST" th:action="@{/profile/settings/{userName}(userName=${user.userName})}" th:object="${userSettings}">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <input type="hidden" id="selectedImageInput" name="selectedImage">
        <input type="hidden" id="GetBackGroundImgUser" th:value="${GetBackGroundImgUser}" />
        <div class="backgroundImg" id="backgroundImagesContainer">
            <div class="row mt-3">
                <div class="col-md-4 mb-3">
                    <img src="/images/settingsPicture/backGroundSettings1.jpg" alt="Image 1" class="img-fluid" onclick="selectImage(this)">
                </div>
                <div class="col-md-4 mb-3">
                    <img src="/images/settingsPicture/backGroundSettings2.jpg" alt="Image 2" class="img-fluid" onclick="selectImage(this)">
                </div>
                <div class="col-md-4 mb-3">
                    <img src="/images/settingsPicture/backGroundSettings3.jpg" alt="Image 3" class="img-fluid" onclick="selectImage(this)">
                </div>
                <div class="col-md-4 mb-3">
                    <img src="/images/settingsPicture/backGroundSettings4.jpg" alt="Image 4" class="img-fluid" onclick="selectImage(this)">
                </div>
                <div class="col-md-4 mb-3">
                    <img src="/images/settingsPicture/backGroundSettings5.jpg" alt="Image 5" class="img-fluid" onclick="selectImage(this)">
                </div>
                <div class="col-md-4 mb-3">
                    <img src="/images/settingsPicture/backGroundSettings6.jpg" alt="Image 6" class="img-fluid" onclick="selectImage(this)">
                </div>
            </div>
        </div>
        <span style="font-weight: bold; color: red" th:if="${#fields.hasErrors('backgroundImage')}" th:errors="*{backgroundImage}"></span>
        <br>
        <br>
        <label for="profilePrivacy">Privacy:</label>
        <select class="custom-select" id="profilePrivacy" name="profilePrivacy">
            <option value="public" th:selected="${userSettings.profilePrivacy == 'public'}">Public</option>
            <option value="private" th:selected="${userSettings.profilePrivacy == 'private'}">Private</option>
        </select>
        <span style="font-weight: bold; color: red" th:if="${#fields.hasErrors('profilePrivacy')}" th:errors="*{profilePrivacy}"></span>
        <br>
        <label class="mt-4" for="readStyle">Style:</label>
        <select class="custom-select" id="readStyle" name="readStyle">
            <option value="scroll-down" th:selected="${userSettings.readStyle == 'scroll-down'}">Scroll Down</option>
            <option value="left-to-right" th:selected="${userSettings.readStyle == 'left-to-right'}">Left-to-Right</option>
        </select>
        <span style="font-weight: bold; color: red" th:if="${#fields.hasErrors('readStyle')}" th:errors="*{readStyle}"></span>
        <br>
        <div class="form-check mt-4">
            <label class="form-check-label" for="adultContentAgreement">
                Я згоден із контентом для дорослих (18+)
            </label>
            <input class="form-check-input" type="checkbox" id="adultContentAgreement" name="adultContentAgreement" th:checked="${userSettings.adultContentAgreement}" />
        </div>
        <button type="submit" class="btn btn-success mt-3">Зберегти</button>
    </form>
</div>
<footer th:insert="~{/blocks/footer :: footer}"></footer>
<script src="/js/loader-spinner.js"></script>
<script src="/js/user-settings.js"></script>
</body>
</html>
